<% content_for :breadcrumbs do %>
  <%= render(BreadcrumbsComponent.new) do |c| %>
    <%= c.item href: admin_root_path do %>Administration<% end %>
    <%= c.item href: admin_markets_path do %>Markets<% end %>
  <% end %>
<% end %>

<%= render PageHeadingComponent.new(title: 'Markets') do |c| %>
  <%= c.action do %>
    <%= render(DataTableSorterComponent.new(name: :markets, filter: @filter, session: session)) %>
  <% end %>
  <% c.action do %>
    <%= render(ActionButtonComponent.new(href: new_admin_market_path, margin: 'ml-2').with_content('New market')) %>
  <% end %>
<% end %>

<div class="max-w-7xl mt-4 mx-auto px-4 sm:px-6 md:px-8">
  <%= render(DataTableComponent.new(name: :markets, filter: @filter, scope: @markets)) do |dt| %>
    <% dt.table do %>
      <%= render 'markets', markets: @markets, paginator: @pagy %>
    <% end %>
  <% end %>
</div>
